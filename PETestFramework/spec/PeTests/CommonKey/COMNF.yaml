---
name: "COMNF"
title: "Common Key Buffer Not Found"
description: "Common Key Buffer not found actions"
category: "PeTests/CommonKey"
cq: ""
note: ""
tests:
- name: "COMNF01"
  header: "Continue"
  description: "Common Key Buffer with missing lookups, continue action"
  source: "WBXML"
  xmlfiles:
  - name: "comnf.xml"
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD.MISS"
  - ddname: "ROLEN00"
    filename: "COMKY.ROLE.MISS"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "ROLE"
      ddname: "ROLE%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "CONTINUE"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000003"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "63"
- name: "COMNF02"
  header: "Message"
  description: "Common Key Buffer with missing lookups, message action"
  source: "WBXML"
  xmlfiles:
  - name: "comnf.xml"
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD.MISS"
  - ddname: "ROLEN00"
    filename: "COMKY.ROLE.MISS"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "ROLE"
      ddname: "ROLE%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "MESSAGE"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000003"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "63"
- name: "COMNF03"
  header: "NoDump"
  description: "Common Key Buffer with missing lookups, no dump action"
  source: "WBXML"
  xmlfiles:
  - name: "comnf.xml"
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD.MISS"
  - ddname: "ROLEN00"
    filename: "COMKY.ROLE.MISS"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "ROLE"
      ddname: "ROLE%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "NODUMP"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000003"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "63"
  expectedresult:
    message: "ABENDU0998"
    rc: "0"
- name: "COMNF04"
  header: "Dump"
  description: "Common Key Buffer with missing lookups, dump action"
  source: "WBXML"
  xmlfiles:
  - name: "comnf.xml"
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD.MISS"
  - ddname: "ROLEN00"
    filename: "COMKY.ROLE.MISS"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "ROLE"
      ddname: "ROLE%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "DUMP"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000003"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "63"
  expectedresult:
    message: "ABENDU0804"
    rc: "0"
