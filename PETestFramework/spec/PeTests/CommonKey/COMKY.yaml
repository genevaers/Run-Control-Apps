---
name: "COMKY"
title: "Common Key Buffer Multiple Entities"
description: "Common Key Buffer Multiple Entities"
category: "PeTests/CommonKey"
cq: ""
note: ""
tests:
- name: "COMKY00"
  header: "One Entity"
  description: "Common Key Buffer with One entity"
  source: "WBXML"
  xmlfiles:
  - name: "comky0.xml"
    replacements: []
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "CONTINUE"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000005"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "23"
- name: "COMKY01"
  header: "Two Entity"
  description: "Common Key Buffer with Two entities"
  source: "WBXML"
  xmlfiles:
  - name: "comky1.xml"
    replacements: []
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "CONTINUE"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000003"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "43"
- name: "COMKY02"
  header: "Three Entity"
  description: "Common Key Buffer with Three entities"
  source: "WBXML"
  xmlfiles:
  - name: "comky2.xml"
    replacements: []
  reffiles: []
  eventfiles:
  - ddname: "EMPLON00"
    filename: "COMKY.EMPLO"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD"
  - ddname: "ROLEN00"
    filename: "COMKY.ROLE"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  mergeparm:
    entities:
    - name: "EMPLO"
      ddname: "EMPLO%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    - name: "ROLE"
      ddname: "ROLE%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "CONTINUE"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0011266"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "63"
- name: "COMKY04"
  header: "Prefix"
  description: "Common Key Buffer with non standard prefix"
  source: "WBXML"
  xmlfiles:
  - name: "comky4.xml"
    replacements: []
  reffiles: []
  eventfiles:
  - ddname: "EMPLPN00"
    filename: "COMKY.EMPLP"
  - ddname: "PRODDN00"
    filename: "COMKY.PRODD"
  mergeparm:
    entities:
    - name: "EMPLP"
      ddname: "EMPLP%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "17"
      keypos: "7"
      keylen: "3"
    - name: "PRODD"
      ddname: "PRODD%!!"
      categories: "N"
      from: "0"
      to: "0"
      type: ""
      prelen: "11"
      keypos: "1"
      keylen: "3"
    breaklen: "3"
    lrbuffer: "1"
    extension: "2"
    notfound: "CONTINUE"
  mergerpt:
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "200"
    start: "7"
  extractfiles:
  - space: "TRK"
    primary: "1"
    secondary: "10"
    recfm: "VB"
    lrecl: "8192"
  formatfiles:
  - ddname: "F0000006"
    space: "TRK"
    primary: "1"
    secondary: "1"
    recfm: "FB"
    lrecl: "43"
